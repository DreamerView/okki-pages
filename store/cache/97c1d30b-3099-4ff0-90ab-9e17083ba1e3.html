
<div class="modal fade" id="okkiPreviewImageModal" tabindex="-1" aria-labelledby="okkiPreviewImageModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content bg-transparent border-0">
            <div class="modal-header border-0">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body d-flex align-items-center justify-content-center">
                <img id="okkiPreviewImageSrc" class="img-fluid rounded-4" src="/source/image/600x400.svg" alt=""/>
            </div>
        </div>
    </div>
</div>
<div class="container py-5 d-flex flex-column gap-5" id="actionWithArticle"><div class="row gap-4"><div class="col-12"><h1>JavaScript: малоизвестные, но полезные API</h1></div><div class="col-12"><p class="m-0"><div class="lh-lg">Представляю вашему вниманию перевод этой замечательной статьи, посвященной 4 малоизвестным API, которые в некоторых ситуациях могут оказаться весьма полезными:</div></p></div><div class="col-12"><div class="d-flex align-items-center justify-content-center"><img onclick="okkiPreviewImage('/source/image/600x400.svg')" data-bs-toggle="modal" data-bs-target="#okkiPreviewImageModal" class="col-12 rounded-5" style="width:auto;max-width:80vw;cursor: pointer;" src="/source/image/600x400.svg"/></div></div><div class="col-12"><p class="m-0"><div class="lh-lg">Данный интерфейс позволяет определять, когда пользователь покидает страницу. Точнее, он вызывает событие при каждом изменении состояния видимости (visibility status) страницы, например, когда пользователь сворачивает/разворачивает окно, переходит на другую вкладку и т.д.</div></p></div></div></div><div class="toast-container position-fixed bottom-0 end-0 p-3">
    <div id="liveToast" class="toast bg-dark text-white" role="alert" aria-live="assertive" aria-atomic="true"
        style="max-width:200px;">
        <div class="toast-body text-center">
            Скопировано
        </div>
    </div>
</div>
<script>
    const okkiCopyCode = (query) => {
        const copyText = document.getElementById(query);
        if (copyText) {
            const selection = window.getSelection();
            const range = document.createRange();
            range.selectNodeContents(copyText); // Выделяем содержимое <span>
            selection.removeAllRanges();
            selection.addRange(range);
            const toastBootstrap = bootstrap.Toast.getOrCreateInstance(document.getElementById("liveToast"))
            try {
                navigator.clipboard.writeText(copyText.textContent || copyText.innerText); // Копируем текст
                toastBootstrap.show()
            } catch (err) {
                console.error('Failed to copy text: ', err);
            }
            selection.removeAllRanges(); // Снимаем выделение
        } else {
            console.error('Element not found');
        }
    };
    const okkiPreviewImage = (src) => document.getElementById("okkiPreviewImageSrc").src=src;
</script>